
## Prefer Composition Over Inheritance

组合好过继承。

继承相对于前者的好处，仅仅是你的 method 可以少传一个参数，而只需要用 this 。

但这正是麻烦的地方 —— 特别是对阅读代码来说，它造就了不必要的隐式，从而不是「祛魅」而是「增魅」，就如同糊弄人的江湖术士把没有魔法的东西说得好像有魔法一样 —— 但对于 coder 们来说，被糊弄的首先仍然还是自己。

（就算没人看你的代码，你也要看的，对吧？ bro ？）

组合是什么呢？

不要搞什么 abstract class 也不要搞子类父类的继承关系，打破家长制， childs 和 parent 之间的关系被「祛魅」为单纯地 …… 在有联系的地方，有联系，仅此而已，而不是含糊不清。

你可以让你的任何一个类，里面的方法都只是一个静态的函数。不要用 this ，允许某个参数可以把需要传入的某种类型的对象传进去，取缔掉那个 this ，这就够了。

显式，而不要隐式。这样你想单独把这函数拎出来调试也很方便，对吧？无需被上下文困扰，因为上下文也 TM 是你必须要在调用的时候显式传入的东西 —— 因而，你不需要进入函数的定义并依靠 IDE 的魔力蹦来蹦去，你也可以知道，当前正在被处理的上下文，它 TND 究竟是什么。

…… 在 Scala 里，只能有这种函数的「类」是 Object 。在 Java 里这些函数则是 static function 。然后呢？对象和它的方法？

跟本来说，对象不需要方法。但你可以动用一些技巧，让 fun(x, arg, ...) 的写法可以写作 x.fun(arg, ...) 。这在每种语言里都不太一样， Python 的设计就很有趣，另外像 Elixir 里的管道那样的方案也是不错的。

—— 你看，这一切又都指向了管道风格的编程，或者更进一步 …… 反应式的编程。它或许还可以进一步变得简洁，但这已经是别的话题了。

而代码的美学，总而言之，还是在于祛魅。

—— 就像我们平常描述事物时那样。

（这是很重要的事情。我说真的。（不光实用性，它甚至还具有政治层面的先进性，即祛魅对先进 (被压迫) 阶级有利而反过来的加魅则经常对落后反动的 (压迫人的) 阶级有利 …… 当然这又扯远了 …… ））

------

「那么 Java 里的继承机制就要放着不用了吗？」

也不必。可以用来干啥？可以参考《 A Little Java, A Few Patterns 》。🙃

（我保证会很有趣的。 …… 我不是指书的风格。）


å¦‚ä½•ç»“æž„ (å¤ç”¨) ä½ é‚£æœ‰è¶£çš„ä»£ç ã€‚

## Prefer Composition Over Inheritance

ç»„åˆå¥½è¿‡ç»§æ‰¿ã€‚

ç»§æ‰¿ç›¸å¯¹äºŽå‰è€…çš„å¥½å¤„ï¼Œä»…ä»…æ˜¯ä½ çš„ method å¯ä»¥
å°‘ä¼ ä¸€ä¸ªå‚æ•°ï¼Œè€Œåªéœ€è¦ç”¨ this ã€‚

ä½†è¿™æ­£æ˜¯éº»çƒ¦çš„åœ°æ–¹ â€”â€” ç‰¹åˆ«æ˜¯å¯¹é˜…è¯»ä»£ç æ¥è¯´ï¼Œ
å®ƒé€ å°±äº†ä¸å¿…è¦çš„éšå¼ï¼Œä»Žè€Œä¸æ˜¯ã€Œç¥›é­…ã€è€Œæ˜¯ã€Œå¢žé­…ã€ï¼Œ
å°±å¦‚åŒç³Šå¼„äººçš„æ±Ÿæ¹–æœ¯å£«æŠŠæ²¡æœ‰é­”æ³•çš„ä¸œè¥¿è¯´å¾—å¥½åƒ
æœ‰é­”æ³•ä¸€æ · â€”â€” ä½†å¯¹äºŽ coder ä»¬æ¥è¯´ï¼Œ
è¢«ç³Šå¼„çš„é¦–å…ˆä»ç„¶è¿˜æ˜¯è‡ªå·±ã€‚

ï¼ˆå°±ç®—æ²¡äººçœ‹ä½ çš„ä»£ç ï¼Œä½ ä¹Ÿè¦çœ‹çš„ï¼Œå¯¹å§ï¼Ÿ bro ï¼Ÿï¼‰

ç»„åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ

ä¸è¦æžä»€ä¹ˆ abstract class ä¹Ÿä¸è¦æžå­ç±»çˆ¶ç±»
çš„ç»§æ‰¿å…³ç³»ï¼Œ *æ‰“ç ´å®¶é•¿åˆ¶* ï¼Œ childs å’Œ parent ä¹‹é—´
çš„å…³ç³»è¢«ã€Œç¥›é­…ã€ä¸ºå•çº¯åœ° â€¦â€¦ åœ¨æœ‰è”ç³»çš„åœ°æ–¹ï¼Œæœ‰
è”ç³»ï¼Œä»…æ­¤è€Œå·²ï¼Œè€Œä¸æ˜¯å«ç³Šä¸æ¸…ã€‚

ä½ å¯ä»¥è®©ä½ çš„ä»»ä½•ä¸€ä¸ªç±»ï¼Œé‡Œé¢çš„æ–¹æ³•éƒ½åªæ˜¯ä¸€ä¸ªé™æ€
çš„å‡½æ•°ã€‚ä¸è¦ç”¨ this ï¼Œå…è®¸æŸä¸ªå‚æ•°å¯ä»¥æŠŠéœ€è¦ä¼ å…¥
çš„æŸç§ç±»åž‹çš„å¯¹è±¡ä¼ è¿›åŽ»ï¼Œå–ç¼”æŽ‰é‚£ä¸ª this ï¼Œè¿™å°±å¤Ÿäº†ã€‚

æ˜¾å¼ï¼Œè€Œä¸è¦éšå¼ã€‚è¿™æ ·ä½ æƒ³å•ç‹¬æŠŠè¿™å‡½æ•°æ‹Žå‡ºæ¥
è°ƒè¯•ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œå¯¹å§ï¼Ÿæ— éœ€è¢«ä¸Šä¸‹æ–‡å›°æ‰°ï¼Œå› ä¸ºä¸Šä¸‹æ–‡
ä¹Ÿ TM æ˜¯ä½ å¿…é¡»è¦åœ¨è°ƒç”¨çš„æ—¶å€™æ˜¾å¼ä¼ å…¥çš„ä¸œè¥¿ â€”â€” å› è€Œï¼Œ
ä½ ä¸éœ€è¦è¿›å…¥å‡½æ•°çš„å®šä¹‰å¹¶ä¾é  IDE çš„é­”åŠ›è¹¦æ¥è¹¦åŽ»ï¼Œ
ä½ ä¹Ÿå¯ä»¥çŸ¥é“ï¼Œå½“å‰æ­£åœ¨è¢«å¤„ç†çš„ä¸Šä¸‹æ–‡ï¼Œ
å®ƒ TND ç©¶ç«Ÿæ˜¯ä»€ä¹ˆã€‚

â€¦â€¦ åœ¨ Scala é‡Œï¼Œåªèƒ½æœ‰è¿™ç§å‡½æ•°çš„ã€Œç±»ã€æ˜¯ Object ã€‚
åœ¨ Java é‡Œè¿™äº›å‡½æ•°åˆ™æ˜¯ static function ã€‚
é‚£ï¼Œç„¶åŽå‘¢ï¼Ÿå¯¹è±¡å’Œå®ƒçš„æ–¹æ³•ï¼Ÿ

è·Ÿæœ¬æ¥è¯´ï¼Œå¯¹è±¡ä¸éœ€è¦æ–¹æ³•ã€‚
ä½†ä½ å¯ä»¥åŠ¨ç”¨ä¸€äº›æŠ€å·§ï¼Œè®© `fun(x, arg, ...)` å¯ä»¥
å€ŸåŠ©æŸç§æœºåˆ¶è€Œä¹Ÿèƒ½å¤Ÿå†™ä½œ `x.fun(arg, ...)` ã€‚
è¿™åœ¨æ¯ç§è¯­è¨€é‡Œéƒ½ä¸å¤ªä¸€æ ·ï¼Œ Python çš„è®¾è®¡å°±å¾ˆæœ‰è¶£ï¼Œ
å¦å¤–åƒ Elixir é‡Œçš„ç®¡é“é‚£æ ·çš„æ–¹æ¡ˆä¹Ÿæ˜¯ä¸é”™çš„ã€‚

â€”â€” ä½ çœ‹ï¼Œè¿™ä¸€åˆ‡åˆéƒ½æŒ‡å‘äº†ç®¡é“é£Žæ ¼çš„ç¼–ç¨‹ï¼Œæˆ–è€…
æ›´è¿›ä¸€æ­¥ â€¦â€¦ ååº”å¼çš„ç¼–ç¨‹ã€‚
å®ƒæˆ–è®¸è¿˜å¯ä»¥è¿›ä¸€æ­¥å˜å¾—ç®€æ´ï¼Œä½†è¿™å·²ç»æ˜¯åˆ«çš„è¯é¢˜äº†ã€‚

è€Œä»£ç çš„ç¾Žå­¦ï¼Œæ€»è€Œè¨€ä¹‹ï¼Œè¿˜æ˜¯åœ¨äºŽç¥›é­…ã€‚

â€”â€” å°±åƒæˆ‘ä»¬å¹³å¸¸æè¿°äº‹ç‰©æ—¶é‚£æ ·ã€‚

ï¼ˆè¿™æ˜¯å¾ˆé‡è¦çš„äº‹æƒ…ã€‚æˆ‘è¯´çœŸçš„ã€‚
ï¼ˆä¸å…‰å®žç”¨æ€§ï¼Œå®ƒç”šè‡³è¿˜å…·æœ‰æ”¿æ²»å±‚é¢çš„å…ˆè¿›æ€§ï¼Œ
å³ç¥›é­…å¯¹å…ˆè¿› (è¢«åŽ‹è¿«) é˜¶çº§æœ‰åˆ©è€Œåè¿‡æ¥çš„åŠ é­…åˆ™
ç»å¸¸å¯¹è½åŽååŠ¨çš„ (åŽ‹è¿«äººçš„) é˜¶çº§æœ‰åˆ© â€¦â€¦ å½“ç„¶
è¿™åˆæ‰¯è¿œäº† â€¦â€¦ ï¼‰ï¼‰

------

ã€Œé‚£ä¹ˆ Java é‡Œçš„ç»§æ‰¿æœºåˆ¶å°±è¦æ”¾ç€ä¸ç”¨äº†å—ï¼Ÿã€

ä¹Ÿä¸å¿…ã€‚å¯ä»¥ç”¨æ¥å¹²å•¥ï¼Ÿå¯ä»¥å‚è€ƒ
ã€Š A Little Java, A Few Patterns ã€‹ã€‚ðŸ™ƒ

ï¼ˆæˆ‘ä¿è¯ä¼šå¾ˆæœ‰è¶£çš„ã€‚ â€¦â€¦ æˆ‘ä¸æ˜¯æŒ‡ä¹¦çš„é£Žæ ¼ã€‚ï¼‰

-----

ä»¥åŠ â€¦â€¦ ç¡®å®žåœ°ï¼Œåœ¨ç»„åˆçš„ code æ–¹å¼ä¸‹ï¼Œ
å¾—ä»¥è¢«è¿˜åŽŸä¸ºäº†å‡½æ•° (the-real-fun) çš„ã€Œå‰æ–¹æ³•ã€ï¼Œ
å®ƒä¹Ÿå¯ä»¥ä¸å¿…å†æ˜¯æŸä¸ªï¼ˆå¿…ç„¶ä¸ä¼šæ˜¯å……åˆ†è€ƒè™‘äº†çš„è®¾è®¡ä¸‹
çš„ï¼‰ã€ŒåŸºç±»ã€çš„é‡å†™ã€‚

æ‰€è°“ã€Œé‡å†™ã€éšå«äº† **é™„åº¸** çš„æ„å‘³ï¼Œè€Œå…ˆè¿›çš„ç†å¿µ
æ€»ä¼šå€¡å¯¼ã€Œ**ä¸»ä½“æ€æƒ³**ã€ä¹‹ç±»çš„ä¸œè¥¿ï¼Œå‘Šè¯‰ä½ ï¼Œä¸è¦åª
æƒ³ç…§æ¬åˆ«äººå®¶çš„æˆåŠŸèŒƒä¾‹ã€å®žäº‹æ±‚æ˜¯åœ°æ ¹æ®è‡ªå·±çš„å®žé™…æƒ…å†µ
æ¥çµæ´»å†³å®šï¼Œè¿™æ‰æ˜¯å”¯ä¸€çš„ (çœŸçš„å…·å¤‡çŽ°å®žæ€§çš„) å‡ºè·¯ã€‚

ä¸å¿…å†ä½œä¸ºã€Œè°çš„é‡å†™ã€è¿™æ ·ä¸€ç§ã€Œéžæ ‡å‡†çš„æ°¸è¿œæ˜¯
ç‰¹ä¾‹çš„ã€äº‹ç‰©è€Œå­˜åœ¨äº†çš„ï¼Œä¹Ÿå°±æ˜¯è¢«ã€Œè¿˜åŽŸä¸ºäº†å‡½æ•°
åŽŸæ¥æ ·è²Œã€ (è¿™æ˜¯æˆ‘ä¸ªäººçš„è¯´æ³•å“ˆ) äº†çš„å‡½æ•°ï¼Œç”±äºŽæ‘†
è„±äº†ã€Œæ—§ä¸–ç•Œçš„ç»§æ‰¿çƒ™å°ã€ï¼Œå®ƒä¹Ÿå°±æˆä¸ºäº†ä¸€ä¸ªç‹¬ç«‹çš„
å‡½æ•°ï¼ˆåŠŸèƒ½ï¼‰ â€”â€” å› è€Œä½ ä¹Ÿæ‰èƒ½æŠŠå®ƒå•ç‹¬æ‹Žå‡ºæ¥å¹¶èƒ½å¤Ÿå°±
è¿™æ ·ä¹Ÿå¯ä»¥æžä¸ºæ–¹ä¾¿**ä¸”æ¸…æ™°**åœ°å®Œæˆä½ çš„è°ƒè¯•ã€‚ï¼ˆè€Œä¸”
åœ¨å®žé™…ä½¿ç”¨çš„æ—¶å€™ä¹Ÿä»è¿˜ä¼šåƒè°ƒè¯•çš„æ—¶å€™ä¸€æ ·æ¸…æ™°ã€‚ðŸ™ƒï¼‰

â€”â€” æ¯•ç«Ÿï¼Œè°ä¹Ÿä¸æ˜¯è‡ªç§°èƒ½é¢„è¨€ä¸€åˆ‡çš„è·³å¤§ç¥žï¼Œä¸€ä¸ªäº‹ç‰©çš„
çœŸæ­£çš„ã€Œæœ¬è´¨ã€æ°¸è¿œå°±æ˜¯è¿™ä¸ªç­‰å¾…ç€ä½ ä¸Žå®ƒè¿›è¡Œåä¸ºã€Œå®žè·µã€
çš„ã€Œäº’åŠ¨ã€çš„ï¼Œè¿™çŽ©æ„å„¿æœ¬èº«ã€‚æ‰€è°“ã€Œè¡¨è±¡ã€è¿™æ ·çš„ç§°å‘¼ï¼Œ
ä¹Ÿéƒ½åªæ˜¯ä½ åœ¨ä½ çŸ¥é“äº†ä½ è‡ªå·±ä¹‹å‰ç†è§£ä¸å¤ªå…¨é¢ä¹‹åŽï¼Œ
æ‰ä¼šå«å‡ºå£çš„çŽ©æ„å„¿ã€‚

â€¦â€¦

è¯´ç™½äº†ï¼Œè¿˜æ˜¯ ***ç¥›é­…*** ã€‚

ä¹Ÿå°±æ˜¯ï¼Œç¡®å®žæ˜¯çŽ°å®žåœ°å­˜åœ¨ä¸€äº›ä¼¼ä¹Žæ˜¯åˆ»æ„è®¾è®¡ä¸ŠåŽ»çš„ï¼Œ
ã€Œäººä¸ºçš„é—¨æ§›å„¿ã€ï¼Œè€Œå¦‚æžœå¯ä»¥åªæ˜¯åˆ æŽ‰å®ƒä»¬ï¼ŒçœŸæ­£çš„çŸ¥è¯†
 (è€Œä¸æ˜¯é‚£ç§ã€Œåº¸äººè‡ªæ‰°ã€ä¼¼çš„äººä¸ºç”Ÿé€ çš„çŸ¥è¯†) ä¸ä¼šå—åˆ°
ä»»ä½•æŸå®³ï¼Œè¿˜èƒ½å¤Ÿå®›å¦‚è¤ªåŽ»äº†å¤–è¡£åŽçš„çœŸå®žèƒ´ä½“ (è­¬å¦‚åœ¨æˆ‘
ä»¬å…±å’Œå›½å¤©æ´¥å¸‚çš„æµ·æ²³è¾¹çš„é‚£äº›é›•å¡‘) ä¸€æ ·ï¼ŒæŠŠå®ƒåŽŸæœ¬çš„ç¾Ž
è¿žåŒå®ƒçš„æ‰€æœ‰çœŸç›¸éƒ½åŽŸåŽŸæœ¬æœ¬åœ°é“ºå±•åœ¨ä½ çœ¼å‰ã€‚

â€”â€” ç„¶åŽï¼Œä¸€åˆ‡éƒ½å¯ä»¥å¾ˆç®€å•ã€‚

å°±å¥½åƒï¼Œã€Œç»§æ‰¿ã€ä¹Ÿä¸æ˜¯ä»€ä¹ˆç‰¹æ®Šçš„ä¸œè¥¿ã€‚å®ƒä¹Ÿåªæ˜¯ä¸€ç§æ™®é€š
çš„ã€Œå…³ç³»ã€ (Relationship) ç½¢äº†ï¼Œæ¯”èµ·åˆ«çš„å…³ç³»æ²¡ä»€ä¹ˆ
ç‰¹æ®Šæˆ–è€…é«˜è´µçš„åœ°æ–¹ã€‚

â€”â€” è¦ä½“çŽ°åœ¨ä»£ç çš„å±‚é¢å°±æ˜¯ï¼šæƒ³çŸ¥é“ä½ åŽŸæ¥è‹¦å¿ƒç¼–é€ çš„
ã€Œç»§æ‰¿å…³ç³»ã€ï¼Œåœ¨è¢«ã€Œç¥›é­…ã€ä»Žè€Œå¾—åˆ°äº†å®ƒçš„è¿˜åŽŸ (æˆ–
è€…è¯´çœŸæ­£çš„æ‰€è°“ *å–å›žäº†è‡ªå·±çš„æœ¬è´¨* ) ä»¥åŽï¼Œä½ èƒ½
åœ¨å“ªå„¿æ‰¾åˆ°å®ƒå—ï¼Ÿã€Œçœ‹ä½ çš„å‡½æ•°å’Œå‡½æ•°è¿˜æœ‰æ•°æ®
å½¼æ­¤æ˜¯å¦‚ä½•å‘ç”Ÿå…³ç³»çš„ã€å°±å¤Ÿäº†ï¼Œä»…æ­¤è€Œå·²ã€‚

â€¦â€¦

æœ¬è´¨ï¼Œåœ¨æœ‰æ„ä¹‰çš„è¯­å¢ƒä¸‹ï¼ŒæŒ‡çš„å°±æ˜¯äº‹ç‰©æœ¬èº«ã€‚
é‚£ä¸ªåªèƒ½éšç€äº¤äº’æ¥ç¡®å®šè€Œä¸æ˜¯è„±ç¦»å®žé™…ç©ºæƒ³å°±èƒ½ç¡®å®šçš„
ã€Œæœ¬èº«ã€ã€‚

-----

â€”â€” æŽ¥ä¸‹æ¥ï¼Œä½ åªéœ€å†ç”¨ä¸Šæä¾›è‡ªè¯­è¨€çš„ã€Œå¤šæ€ã€çš„èƒ½åŠ›
å°±å¥½äº†ï¼Œè¿™æ ·å°±èƒ½æŠŠçœ‹èµ·æ¥å¥½åƒå¹³æ‘Šåœ¨ä¸€èµ·å› è€Œæ‚ä¹±äº†çš„
ä¸œè¥¿åšå‡ºäº†ä¸€ä¸ªå¹¶ä¸å¤æ‚çš„æ ‘çš„ç»“æž„çš„ã€Œè§„æ•´ã€ â€”â€” ä»Žè€Œï¼Œ
ç”¨çš„æ—¶å€™ä¹Ÿå°±ä¸æ˜¯åªèƒ½è§„å®šã€Œåªæœ‰æŸæŸ Class å¯è¿›å…¥ã€è€Œæ˜¯
ã€Œåªè¦æºå¸¦äº†æŸä¸ªæ ‡ç­¾ (interface/tag) çš„éƒ½å¯è¿›å…¥ã€ã€‚

ä½ å¯ä»¥ç”¨ interface (for Java) æˆ–è€…å¦å¤–çš„ç§°å‘¼æˆ–
è€…æœºåˆ¶ (åœ¨å¦å¤–çš„è¯­è¨€/å¹³å°é‡Œ) æ¥è¾¾åˆ°ã€Œå¤šæ€ã€çš„ç›®çš„ã€‚

è€Œä¸”ï¼Œä½ ä¹Ÿå¹¶æ²¡æœ‰è¿åã€Œé¢å‘å¯¹è±¡ã€ â€”â€” è¿™çŽ©æ„å„¿çš„ç²¾é«“
ä¸å°±æ˜¯ã€Œå°è£…ã€å’Œã€Œå¤šæ€ã€å˜›ï¼ðŸ™ƒ

------

> æŠŠè¦ç”¨åˆ°çš„ä¸œè¥¿ä»¥æŽ¥å£çš„å½¢å¼ä½œä¸ºå‚æ•°ä¼ è¿›æ¥ï¼Œ
> æ‰€è°“ã€Œä¾èµ–æ³¨å…¥ (Dependency Injection) ã€
> å¹²çš„ä¹Ÿå°±æ˜¯è¿™ä¹ˆä¸ªäº‹å„¿ã€‚
> 
